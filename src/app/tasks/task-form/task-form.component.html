<div class="task-form-container">
<h1 class="mt-5 mb-3">{{isEditMode ? 'Edit task' : 'Create a New Task'}}</h1>
<p class="text-muted fs-6">
  {{isEditMode ? 'Edit your task details below' : 'Add a task and prioritize it as a personal reminder'}}
</p>

<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
  <div class="row mb-3">
    <div class="col">
      <label class="form-label">Title:</label>
      <input class="form-control" type="text" formControlName="title" data-testid="title_input" />
      <small class="text-danger" *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched">
        Title is required.
      </small>
    </div>

    <div class="col">
      <label class="form-label">Due Date:</label>
      <input class="form-control" type="date" formControlName="dueDate" data-testid="duedate_input"/>
      <small class="text-danger" *ngIf="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched">
        Due Date is required.
      </small>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Description:</label>
    <textarea class="form-control" rows="3" formControlName="description" data-testid="description_input"></textarea>
  </div>

  <div class="mb-3">
    <label class="form-label">Priority:</label>
    <select class="form-control" formControlName="priority" data-testid="priority_input">
      <option value="">Select Priority</option>
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>
    <small class="text-danger" *ngIf="taskForm.get('priority')?.invalid && taskForm.get('priority')?.touched">
      Priority is required.
    </small>
  </div>

  <div class="form-check mb-3">
      <label class="form-check-label" for="setReminder">Set Reminder</label>
      <input class="form-check-input" type="checkbox" id="setReminder" formControlName="reminder" (change)="onReminderChange($event)" data-testid="reminder_check" />
   </div>

  <button class="btn btn-primary" type="submit" [disabled]="taskForm.invalid" data-testid="submit_button">{{isEditMode ? 'Update Task':'Add Task'}}</button>

</form>
</div>
